<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="302px" preserveAspectRatio="none" style="width:592px;height:302px;background:#FFFFFF;" version="1.1" viewBox="0 0 592 302" width="592px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jn3hpz0rzfar" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="160" x2="160" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="276" x2="276" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="386" x2="386" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="556" x2="556" y1="67.4883" y2="234.041"/><rect fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="120" x="5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="12" y="52.5352">muna-schemas</text><rect fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="120" x="5" y="233.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="12" y="253.5762">muna-schemas</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="142" y="64.5352">NPM</text><ellipse cx="160" cy="35" fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="148" x2="172" y1="49" y2="49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="142" y="246.5762">NPM</text><ellipse cx="160" cy="265.5293" fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="148" x2="172" y1="279.5293" y2="279.5293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="234" y="64.5352">Editor/CMS</text><ellipse cx="276" cy="35" fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="264" x2="288" y1="49" y2="49"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="234" y="246.5762">Editor/CMS</text><ellipse cx="276" cy="265.5293" fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="264" x2="288" y1="279.5293" y2="279.5293"/><rect fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="328" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="335" y="52.5352">upgradeData()</text><rect fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="328" y="233.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="335" y="253.5762">upgradeData()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="522" y="64.5352">Database</text><path d="M538.5,15 C538.5,5 556.5,5 556.5,5 C556.5,5 574.5,5 574.5,15 L574.5,41 C574.5,51 556.5,51 556.5,51 C556.5,51 538.5,51 538.5,41 L538.5,15 " fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" style="stroke:#000000;stroke-width:1.5;"/><path d="M538.5,15 C538.5,25 556.5,25 556.5,25 C556.5,25 574.5,25 574.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="522" y="246.5762">Database</text><path d="M538.5,259.5293 C538.5,249.5293 556.5,249.5293 556.5,249.5293 C556.5,249.5293 574.5,249.5293 574.5,259.5293 L574.5,285.5293 C574.5,295.5293 556.5,295.5293 556.5,295.5293 C556.5,295.5293 538.5,295.5293 538.5,285.5293 L538.5,259.5293 " fill="#FEFECE" filter="url(#f1jn3hpz0rzfar)" style="stroke:#000000;stroke-width:1.5;"/><path d="M538.5,259.5293 C538.5,269.5293 556.5,269.5293 556.5,269.5293 C556.5,269.5293 574.5,269.5293 574.5,259.5293 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="148,94.7988,158,98.7988,148,102.7988,152,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="67" x2="154" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="74" y="94.0566">Publish v.X</text><polygon fill="#A80036" points="171,124.1094,161,128.1094,171,132.1094,167,128.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="165" x2="275" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="177" y="123.3672">Upgrade to v.X</text><polygon fill="#A80036" points="374.5,153.4199,384.5,157.4199,374.5,161.4199,378.5,157.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="380.5" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="283" y="152.6777">Call</text><polygon fill="#A80036" points="544.5,182.7305,554.5,186.7305,544.5,190.7305,548.5,186.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="386.5" x2="550.5" y1="186.7305" y2="186.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="393.5" y="181.9883">Map data to new model</text><polygon fill="#A80036" points="397.5,212.041,387.5,216.041,397.5,220.041,393.5,216.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="391.5" x2="555.5" y1="216.041" y2="216.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="403.5" y="211.2988">Response</text><!--MD5=[e657ccbd932b73779785b878a78e656e]
@startuml "Upgrade sequence"
participant      "muna-schemas" as plugin
entity       NPM       as npm
entity    "Editor/CMS"    as code
participant     "upgradeData()"     as upgrade
database    Database    as db
plugin -> npm : Publish v.X 
code -> npm : Upgrade to v.X
code -> upgrade : Call
upgrade -> db : Map data to new model
upgrade <- - db : Response
@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: nb
Country: NO
--></g></svg>